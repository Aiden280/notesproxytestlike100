---
title: 能源优化配置（购置，设计）计算投资收益 自动控制（能源调度）预测
created: '2023-02-03T07:09:03.000Z'
modified: '2023-02-08T05:27:06.825Z'
---

# 能源优化配置（购置，设计）计算投资收益 自动控制（能源调度）预测

a huge collection of up-to-date tools called [open sustainable technology](https://opensustain.tech) by [protontypes](https://github.com/protontypes) has been found.

in order to execute control in real time, either FPGA or RTOS like [RT-Lab](https://www.opal-rt.com/software-rt-lab/) is used (maybe not needed?)

in simulation, unlike real-world systems, can be quite "chess-like". you can pause the system, revert the operation, revert the time, in order to manually control all components to guide the system to optimal.

微电网 (microgrid) 耦合优化调度 综合能源系统 优化调度 电气热耦合

CCHP: Combined Cooling, Heat and Power

weibull distribution

differential equations: ODE (Ordinary Differential Equation), SDE (Stochastic Differential Equation), DDE (Delay Differential Equation), DAE (Differential Algebraic Equation)

what they are talking is SCADA: supervisory control and data acquisition. [SCADAS](https://www.plm.automation.siemens.com/global/en/products/simcenter/scadas.html) by siemens is for signal processing and recording. is it the system used in the current project? nope. is SCADAS similar to SCADA? yes. 

## tools

### mac m1 compatibility on windows software

install by `brew install wine-stable` (version >= 6.0.2)

then run `wine64`

### python doc generation

#### pydoc

start server using:

```bash
python3 -m pydoc -p <port> <module_name>
```
#### [pdoc3](https://pdoc3.github.io/pdoc/)

```bash
pip3 install pdoc3
pdoc --html <module_name>
```

#### docstring

```python
class myClass:
  """
  myClass doc
  """
  def __init__(self):
    """
    init doc
    """
```

### optimization

[Pareto optimization](https://blog.csdn.net/weixin_39628380/article/details/111077636) using:

- [pymmo](https://pymoo.org/) is for multi-objective optimization. usage in [NSGA2](https://blog.csdn.net/weixin_40531919/article/details/118522239)
- [pyomo](http://www.pyomo.org/) is a Python-based, open-source optimization modeling language with a diverse set of optimization capabilities.
- [jMetalPy](https://github.com/jMetal/jMetalPy) and [introduction](https://blog.csdn.net/qq_33177268/article/details/127662015)
- [NSGA3](https://blog.csdn.net/weixin_39707536/article/details/110763585)
- [partical group](https://blog.csdn.net/kobeyu652453/article/details/128531031) and [intro in python](https://zhuanlan.zhihu.com/p/584190186)

[Code](https://github.com/isl-org/MultiObjectiveOptimization) for [NIPS 2018: Multi-Task Learning as Multi-Objective Optimization](https://arxiv.org/abs/1810.04650), an exact algorithm for multi-objective optimization of deep networks with negligible computational overhead.

#### machine learning & neural networks

[facebook prophet](https://facebook.github.io/prophet/)

[pymc based prophet](https://github.com/luke14free/pm-prophet)

[numenta nupic sparse encoding](https://nupic.docs.numenta.org/1.0.3/api/algorithms/encoders.html)

pyro [forcasting](https://docs.pyro.ai/en/stable/contrib.forecast.html) and [time series](https://docs.pyro.ai/en/stable/contrib.timeseries.html)

uber [orbit](https://github.com/uber/orbit) (A Python package for Bayesian forecasting with object-oriented design and probabilistic models under the hood) and [doc](https://orbit-ml.readthedocs.io/en/stable/)

#### reinforcement learning

[microsoft machine teaching](https://www.microsoft.com/en-us/ai/ai-lab-machine-teaching) is like automl for reinforcement learning (autorl), based on [bonsai](https://preview.bons.ai/) (on [github[(https://github.com/BonsaiAI)) ([doc](https://learn.microsoft.com/en-us/bonsai/)) is a low-code platform for autonomous AI systems (bonsai BRAIN is close-sourced), [doc](https://github.com/BonsaiAI/bonsaiai.github.io) before acquiantaince. [mentioned](https://github.com/BonsaiAI/bonsaiai.github.io/blob/website/source/includes/getting-started/_quick-start.html.md) "optimize HVAC (heating, ventilation, and air conditioning) with EnergyPlus and [BCVTB](https://github.com/lbl-srg/bcvtb) (Building Controls Virtual Test Bed)". specify enviorments, rewards and targets with Inkling (declarative)

[openai baselines](https://github.com/openai/baselines)

[stable baselines3](https://github.com/DLR-RM/stable-baselines3)

[autorl-research](https://github.com/microsoft/autorl-research) by microsoft

[autonomous learning library](https://github.com/cpnota/autonomous-learning-library) for pytorch, building deep reinforcement learning agents

[brain autorl](https://github.com/google/brain_autorl) by google

[rlang](https://github.com/brownirl/rlang): a declarative language for expressing partial world knowledge to RL agents and decision process. [doc](http://rlang.ai/)

### NLP

[RETRO-pytorch](https://github.com/lucidrains/RETRO-pytorch) without weights

[LangChain](https://langchain.readthedocs.io/en/latest/index.html): combine LLMs with other sources of computation or knowledge.

ELIF [LFQA retrieval based](https://yjernite.github.io/lfqa.html)

[haystack](https://github.com/deepset-ai/haystack) (+ LLM = ChatGPT?)

[chatgpt](https://chat.openai.com/chat) (which is currently way too busy?)

[PaLM-RLHF](https://github.com/lucidrains/PaLM-rlhf-pytorch)

[Open-Assistant](https://github.com/LAION-AI/Open-Assistant)

[NTM (neural turing machine)](https://github.com/MarkPKCollier/NeuralTuringMachine) (best?) for translation, question answering, planning and decision-making. [tensorflow 1.14.0](https://github.com/tensorflow/tensorflow/releases/tag/v1.14.0) includes it into `tf.contrib` which also has `timeseries` module.

### modeling

[SciML](https://github.com/SciML) is Scientific Computing + Machine Learning Toolbox. It has the best performant [DifferentialEquations.jl](https://github.com/SciML/DifferentialEquations.jl) (can run on CUDA with ease, connect to neural networks) and [NeuralPDE.jl](https://github.com/SciML/NeuralPDE.jl) for Physics-Informed Neural Networks (PINN) and Deep BSDE Solvers of Differential Equations for Scientific Machine Learning (SciML) accelerated simulation, easily bridging to Python.

[PowerModelDistribution.jl](https://github.com/lanl-ansi/PowerModelsDistribution.jl) is an extension package of [PowerModels.jl](https://github.com/lanl-ansi/PowerModels.jl) for Steady-State Power Distribution Network Optimization.

[PowerSimulations.jl](https://github.com/NREL-SIIP/PowerSimulations.jl) is a Julia package for power system modeling and simulation of Power Systems operations.

[TIMES](https://github.com/etsap-TIMES/TIMES_model) model: The Integrated MARKAL-EFOM System, written in [GAMS](https://www.gams.com) (General Algebraic Modelling System, a modeling language, paid, similar to [Dyna](https://dyna.readthedocs.io/en/latest/spec/) (a declarative modeling language like prolog, in [dyna2gams](https://dyna2gams.github.io/tutorial.html) it can refine parameters on observation) with lots of [solvers](https://www.gams.com/latest/docs/S_MAIN.html)), able to model CHS systems and predict financial costs said in its [documendation](https://iea-etsap.org/docs/Documentation_for_the_TIMES_Model-Part-II_July-2016.pdf), is a technology rich, bottom-up model generator, which uses linear-programming to produce a least-cost energy system, optimized according to a number of user constraints, over medium to long-term time horizons.

----

julia relates quite a bit to power and energy simulations. is it performance related?

type `]` in julia's REPL to get Pkg interface.

----

[Modelica](https://modelica.org/modelicalanguage) is a language for modeling of cyber-physical systems, supporting acausal connection of components governed by mathematical equations to facilitate modeling from first principles, used in CATIA Systems, Dymola, JModelica.org, LMS AMESim, MapleSim, Modelon Impact, MWorks, OpenModelica ([for python](https://openmodelica.org/doc/OpenModelicaUsersGuide/latest/ompython.html) you need this: [PySimulator](https://github.com/PySimulator/PySimulator)), SimulationX, and Wolfram SystemModeler (and [more tools](https://modelica.org/tools.html).

[OpenIPSL](https://github.com/OpenIPSL/OpenIPSL) is a library of power system component models written in the Modelica language that can be used for power system dynamic analysis, such as phasor time-domain simulations.

[STEPS](https://github.com/changgang/steps) & [stepspy](https://pypi.org/project/stepspy/): Simulation Toolkit for Electrical Power Systems. [doc](https://github.com/changgang/steps/wiki/)

[pandapower](https://github.com/e2nIEE/pandapower): (lacks storage unit models) Convenient Power System Modelling and Analysis based on PYPOWER and pandas. [official site](https://www.pandapower.org/)

in [pandapower's paper](https://arxiv.org/pdf/1709.06743.pdf) there are lots of open source tools for electric power systems optimization mentioned:

[MATPOWER](https://matpower.org/) (with [optional solvers](https://matpower.org/download/optional-solvers/), must be obtained separately) is a widely used power system analysis tool for matlab and octave that solves power flow and optimal power flow problems and also includes an optimal scheduling tool for market simulations.

There are ports of the original MATLAB based code to other languages, most notably Pythons [PYPOWER](https://pypi.org/project/PYPOWER/) [pypower-dynamics](https://pypi.org/project/pypower-dynamics/) extends PYPOWER for dynamic analysis of electric power systems.

[GridCal](https://gridcal.readthedocs.io/en/latest/) (abbriviation for grid calculator) includes power flow, time-series and short circuit calculation methods and comes with a comprehensive graphical user interface.

The simulation and optimization library [PyPSA](https://pypsa.org) (Python for power system analysis) is aimed at time-series simulation of security-constrained linear optimal power flow and investment optimization. 

[PowerGAMA](https://pypi.org/project/powergama/) ( Python-based lightweight simulation tool for high level analyses of renewable energy integration in large power systems) and [psst](https://psst.readthedocs.io/) (power system simulation toolbox) are also aimed at market optimization in electric networks.

[GridLAB-D](https://www.gridlabd.org/) is an advanced tool for static simulations using agent based simulation models, based on C/C++ with integration of SCADA controls, metering and market models.

----

[OpenDSS](https://sourceforge.net/projects/electricdss/) is a electrical power system simulation tool primarily for utility power distribution systems, written in a Delphi.

[MATPower](https://matpower.org/): free, open-source tools for electric power system simulation and optimization

[energyplus](https://energyplus.net/) (open source, based on [DOE2](https://www.doe2.com/), a building energy analysis program that can predict the energy use and cost) is a whole building energy simulation program that engineers, architects, and researchers use to model both energy consumption—for heating, cooling, ventilation, lighting and plug and process loads—and water use in buildings.

[bcvtb](https://github.com/lbl-srg/bcvtb) is a software environment that allows users to couple different simulation programs for co-simulation, and to couple simulation programs with actual hardware. For example, the BCVTB allows to simulate a building in EnergyPlus and the HVAC and control system in Modelica, while exchanging data between the software as they simulate. 

[wolfram mathematica](https://www.wolfram.com/) and [System Modeler](https://www.wolfram.com/system-modeler/modeling-tools-comparison/)

[maple](https://maplesoft.com/) and [MapleSim](https://maplesoft.com/products/maplesim/)

[matlab](https://www.mathworks.com/products/matlab.html) (can be cuda accelerated (jacket?)) and [simulink](https://www.mathworks.com/products/simulink.html)

[gnu octave](https://octave.org/index) (used by cloudpss?)

[sagemath](https://www.sagemath.org/)

[root](https://root.cern/manual/math/)

#### computational fluid dynamics (really?)

[openFOAM](https://openfoam.org/) (free CFD (computational fluid dynamics) software) and [documentation](https://openfoam.org/resources/)

[CFD in github](https://cn.bing.com/search?q=site%3Agithub.com+computational+fluid+dynamics&form=CHRDEF&sp=-1&pq=&sc=0-0&qs=n&sk=&cvid=72F0CB0544F54D0F918837310C11BFE5&ghsh=0&ghacc=0&ghpl=)

[CFD machine learning in github](https://cn.bing.com/search?q=site%3Agithub.com+computational+fluid+dynamics+machine+learning&form=CHRDEF&sp=-1&pq=site%3Agithub.com+computational+fluid+dynamics+machine+learning&sc=0-61&qs=n&sk=&cvid=4B6BFD8AB31045B4BAC92201D3C20CD2&ghsh=0&ghacc=0&ghpl=)

[awesome CFD machine learning](https://github.com/ikespand/awesome-machine-learning-fluid-mechanics): a curated list of machine learning papers, codes, libraries, and databases applied to fluid mechanics. 

#### finite element analysis

[FEA (finite element analysis) open source software list](https://blogmech.com/finite-element-analysis-softwares-list-open-source)


## cloudpss

the platform uses code generator to make the simulation fast.

something like [siemens simcenter](https://www.plm.automation.siemens.com/global/zh/products/simulation-test/system-simulation.html) is also cloud based. [collimator](https://app.collimator.ai/) is self-labeled as better simulink alternative with ai and python code blocks inside. it also suggests [model based development](https://www.collimator.ai/post/model-based-development) (and a hell lots of blogs) for a general guideline on simulation and optimized control systems.

found tsinghua's [cloudpss](https://tsinghua.cloudpss.net/) (linked to localhost?) from [Allen-Sunboy](https://github.com/Allen-Sunboy/Allen-Sunboy)

cloudpss is utilizing alibaba's cloud computing. the simulation uses computing graph and cuda acceleration (diffcult to deploy?), suggested simulink and [PSCAD](https://www.pscad.com/) ([PyPSCAD](https://github.com/NREL/PyPSCAD) does similar things, but far from complete) (with IncrediBuild-XGE for multi-core acceleration) for simulation. in the [paper](https://www.sciencedirect.com/science/article/pii/S2352484720317297) it describes itself as "power system simulator" and "electromagnetic transient simulator" (HVDC: high voltage direct current, highly efficient for transmitting large amounts of electricity over long distances)

----

项目仿照[cloudpss](https://cloudpss.net/)进行编写

专注于复杂交直流电网、配电网、微电网、独立电力系统的精确电磁暂态建模及覆盖多时间尺度物理过程仿真

本平台支持包括配电系统、供暖制冷系统、蒸汽供热系统及烟气余热回收系统在内的多能源系统耦合网络的建模仿真计算。与传统的综合能源系统仿真工具不同，平台集成了20余种常见的综合能源系统设备模型，允许用户灵活搭建任意能量梯级利用形式的综合能源系统，拓扑结构不受约束，同时支持并网系统、孤网系统的仿真计算，从而有效拓展了适用场景。

## 系统架构

系统具体设计参考文档。

综合能源系统特指在规划、建设和运行等过程中，通过对能源的产生、传输与分配（能源网络）、转换、存储、消费等环节进行有机协调与优化后，形成的能源产供销一体化系统。

本平台包含两大子系统，分别为设计规划系统和运行调度系统。

涉及到数据，计算，仿真的模块：

### 系统能量流拓扑

#### 基础数据

##### 环境信息库

包含：地理位置、气象数据（风、光、温度）以及规范中的一些设计表格，与地理位置关联的相关设备。

<table>
      <tr><td><b>输入</b></td><td>地理位置（地名或者坐标），气象数据（默认已选择的地理坐标），可以从文件导入或者历史数据库导入 </td></tr>
</table>

##### 设备信息库

包含：发电、制冷制热、储能设备、配电传输、供热传输五个分类。不低于25种设备。还包含市政资源（市政天然气、市政电网、市政蒸汽、市政热水）。

需要考虑设备效率、设备寿命、网络损耗。包含建设费用等虚拟模型（电缆、管道、基建等）。

<table>
      <tr><td><b>输入</b></td><td>输入相应设备相应属性值，或者从典型库导入相应设备信息（生产厂商 设备型号 额定功率 运行约束 经济性参数）</td></tr>
</table>

##### 负荷信息库

包含：蒸汽负荷、采暖负荷、制冷负荷、电负荷

输入形式：

- 负荷指标
	•	采暖、制冷、电负荷有其特殊场景，属性面板有额外参数：
	•	模型：粗略模型（每月平均值数据） 或者详细模型（每个小时）

- 负荷参数：是否包含工作日和非工作日、具体时间段、建筑类型、面积
- 负荷曲线：更直观的对负情况进行展示

##### 能源信息库

包含：电、热、冷、气的价格信息

输入形式：

定价规则或者曲线描述

电价格分为：

- 常数电价
- 分时电价
- 阶梯电价
- 分时阶梯

热和冷的价格分为：

- 面积
- 热量

气的价格随当地行情

#### 设计规划

根据已经设定的能源类型、负荷需求、建设规模、资金来源进行方案优化，得到设备的容量配置及各种设备的设备成本、工程初始投资、运行费用及各种设备的出力情况，以及经济指标、环保指标，并输出相应报告

#### 仿真计算

根据已经设定的基本数据进行仿真计算，并输出设备的出力曲线及相应的经济指标、环保指标的报告（除了不需要输出容量配置之外，其余的输出项与设计规划一样）

### 能源汇总

#### 能源运行实时数据看板

汇总当前各设备运行时的能源生产与消耗汇总，并以图表的形式展示

### 运行调度

#### 方案列表

对已经规划的方案进行展示

#### 运行日志

对已经运行的方案进行日志记录

### 系统结构拓扑

#### 基础数据

- 环境数据
- 设备数据
- 负荷信息库
- 能源信息库

#### 仿真模拟

根据已经设计的运行方案进行带拓扑结构的仿真模拟

#### 调度优化

一种算法策略，对具体的综合能源系统进行协调优化计算（可以结合实时数据），并实时输出优化结果，下发指令给控制系统。

### 能源监测

#### 实时数据

以图表的形式展示能源生产和消耗数据、告警数据

#### 历史数据

选择历史某段时间，查询当时的能源消耗和生产数据

#### 能源设备监控

实时显示所有设备的运行状态、生产消耗数据、告警信息

#### 告警中心

显示今日所有告警的设备信息

### 数据分析

#### 能效评估

对电、气、冷、热进行能效评估展示

#### 能源明细

展示产量明细和消耗明细

#### 排放明细

展示排放明细数据

